ec2-3-16-154-62.us-east-2.compute.amazonaws.com

mysql -uroot -p11111111 -heacinstance.cmqbzqnyewvh.us-east-2.rds.amazonaws.com

:w !sudo tee % > /dev/null

CREATE DATABASE eac CHARACTER SET utf8 COLLATE utf8_general_ci;

CREATE TABLE Member(
SSN INT NOT NULL AUTO_INCREMENT,
ID VARCHAR(50) NOT NULL,
PW VARCHAR(50) NOT NULL,
Nickname VARCHAR(50) NOT NULL,
Class VARCHAR(50) NOT NULL,
Name VARCHAR(50) NOT NULL,
Address VARCHAR(100) NOT NULL,
Phone VARCHAR(50) NOT NULL,
PRIMARY KEY(SSN));

CREATE TABLE Video(
SSN INT NOT NULL AUTO_INCREMENT,
Type VARCHAR(50) NOT NULL,
Host INT NOT NULL,
Title VARCHAR(50) NOT NULL,
Category VARCHAR(50) NOT NULL,
Product VARCHAR(50) NOT NULL,
SDate DATETIME NOT NULL,
EDate DATETIME NOT NULL,
View INT NOT NULL,
Low_bid INT NOT NULL,
Instant_bid INT NOT NULL,
PRIMARY KEY(SSN),
FOREIGN KEY(Host) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE Post(
SSN INT NOT NULL AUTO_INCREMENT,
Author INT NOT NULL,
Title VARCHAR(50) NOT NULL,
Description TEXT,
Category VARCHAR(50) NOT NULL,
Date DATETIME NOT NULL,
View INT NOT NULL,
PRIMARY KEY(SSN),
FOREIGN KEY(Author) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE Bid(
Buyer INT NOT NULL,
Seller INT NOT NULL,
Video INT NOT NULL,
Price INT NOT NULL,
PRIMARY KEY(Buyer, Seller, Video),
FOREIGN KEY(Buyer) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY(Seller) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY(Seller) REFERENCES Video(SSN) ON DELETE CASCADE ON UPDATE CASCADE);

CREATE TABLE Ord(
Buyer INT NOT NULL,
Seller INT NOT NULL,
Video INT NOT NULL,
Date DATETIME NOT NULL,
Price INT NOT NULL,
PRIMARY KEY(Buyer, Seller, Video),
FOREIGN KEY(Buyer) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY(Seller) REFERENCES Member(SSN) ON DELETE CASCADE ON UPDATE CASCADE,
FOREIGN KEY(Video) REFERENCES Video(SSN) ON DELETE CASCADE ON UPDATE CASCADE);